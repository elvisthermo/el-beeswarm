<!DOCTYPE html>
<html lang="en" style="width: 100%; height: 100%">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <title>Title</title>
    <!-- <script src="../dist/bundle.js"></script> -->
    <script src="http://localhost:8080/bundle.js"></script>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../src/styles/main.css"></link>

  </head>

  <body>
    <style>
      .tooltip {
        position: absolute;
        background-color: white;
        border: 1px solid gray;
        border-radius: 5px;
        padding: 5px;
        font-size: 12px;
      }
    </style>

    <script>
      function loadDataSet() {
        const dataset = d3.csv("./dataset/iris.csv", function (data) {
          return data;
        });

        return dataset;
      }

      window.onload = function () {
        async function main() {
          dataset = await loadDataSet();

          const attr = [
          "sepal_length","sepal_width","petal_length","petal_width","variety"
          ];
          console.log('interpolate color',d3.interpolateMagma)

          // htmlElementId,data, xType, yType, xLabel, yLabel, radius, width, height
          beeswarm = new vis.BeeswarmGroup(
            "canvas1",
            dataset,
            attr[4],
            attr[1],
            5,
            800,
            400,
            (this.settings = {
              color: "#069", //"grey",//"#069",
              highlightColor: "#FF1122", //"#08E700",
              opacity: 1,
              notSelectedOpacity: 0.15,
              size_type: "fit", //"absolute"
              width: 800,
              height: 600,
              paddingTop: 25,
              paddingLeft: 50,
              paddingRight: 50,
              paddingBottom: 30,
              autoresize: true,
              colorAttr: attr[4],
              theme: "dark",
              interpolate: d3.interpolateGreens
            })
          );
          beeswarm.setTooltipLabels(
            [attr[2],
            attr[4]]);
          beeswarm.draw();
          console.log(beeswarm);
        }

        main();
      };
    </script>
    <div id="canvas1"></div>
    <div id="canvas2"></div>
    <div id="canvas3"></div>
  </body>
</html>
